[gd_scene load_steps=10 format=2]

[ext_resource path="res://Scenes/Effects/effect_multiple.gd" type="Script" id=1]
[ext_resource path="res://Scenes/Items/Item.tscn" type="PackedScene" id=3]
[ext_resource path="res://Scenes/Switch/Switch.tscn" type="PackedScene" id=4]
[ext_resource path="res://Scenes/Effects/Door/DoorEffect.tscn" type="PackedScene" id=5]
[ext_resource path="res://Scenes/ItemManager/ItemManager.tscn" type="PackedScene" id=6]
[ext_resource path="res://Levels/Parent_level.tscn" type="PackedScene" id=7]
[ext_resource path="res://Scenes/Effects/LockEffects/Lock_Barrier.tscn" type="PackedScene" id=8]

[sub_resource type="GDScript" id=1]
script/source = "extends Area2D

export (String, FILE, \"*.tscn\") var next_world

func _physics_process(delta):
	var bodies = get_overlapping_bodies()
	for body in bodies:
		if body.name == \"Duck\":
			if next_world:
				get_tree().change_scene(next_world)
#			else: #Go back to menu?
#				pass
"

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 85.1083, 21.5379 )

[node name="Level_9" instance=ExtResource( 7 )]

[node name="DuckandChicks" parent="." index="0"]
position = Vector2( 525.995, 544.646 )

[node name="PlayerController" parent="DuckandChicks" index="0"]
position = Vector2( 4.6521, 4.54199 )

[node name="Data" parent="DuckandChicks/PlayerController" index="2"]
duck_attached_speed = 95.0
duck_dettached_speed = 125.0
chick_horde_speed = 155.0

[node name="Duck" parent="DuckandChicks" index="1"]
position = Vector2( 1.8961, 19.2644 )

[node name="Chick" parent="DuckandChicks/FlockManager" index="0"]
position = Vector2( 416.555, 548.862 )

[node name="Chick2" parent="DuckandChicks/FlockManager" index="1"]
position = Vector2( 470.473, 562.146 )

[node name="Chick3" parent="DuckandChicks/FlockManager" index="2"]
position = Vector2( 472.255, 536.309 )

[node name="Switches" type="Node" parent="." index="1"]

[node name="Switch1" parent="Switches" index="0" instance=ExtResource( 4 )]
position = Vector2( 590.364, 246.326 )
scale = Vector2( 4, 4 )

[node name="Switch2" parent="Switches" index="1" instance=ExtResource( 4 )]
position = Vector2( 467.114, 354.099 )
scale = Vector2( 4, 4 )

[node name="Switch3" parent="Switches" index="2" instance=ExtResource( 4 )]
position = Vector2( 69, 66 )
scale = Vector2( 4, 4 )

[node name="Switch4" parent="Switches" index="3" instance=ExtResource( 4 )]
position = Vector2( 950.142, 543 )
scale = Vector2( 4, 4 )

[node name="Doors" type="Node" parent="." index="2"]

[node name="DoorEffect1" parent="Doors" index="0" instance=ExtResource( 5 )]
position = Vector2( 496.113, 8.42 )
rotation = 1.5708
scale = Vector2( 5, 9.99 )
script = ExtResource( 1 )
effect_type = 1
switch_path = [ NodePath("../../Switches/Switch1"), NodePath("../../Switches/Switch2"), NodePath("../../Switches/Switch3"), NodePath("../../Switches/Switch4") ]

[node name="DoorEffect2" parent="Doors" index="1" instance=ExtResource( 5 )]
position = Vector2( 944.186, 139 )
rotation = 1.5708
scale = Vector2( 5, 9.847 )
switch_path = NodePath("../../Switches/Switch3")

[node name="DoorEffect3" parent="Doors" index="2" instance=ExtResource( 5 )]
position = Vector2( 80.484, 139 )
rotation = 1.5708
scale = Vector2( 5, 9.886 )
switch_path = NodePath("../../Switches/Switch4")

[node name="LockBarriers" type="Node" parent="." index="3"]

[node name="Lock_Barrier1" parent="LockBarriers" index="0" instance=ExtResource( 8 )]
position = Vector2( 411, 189 )

[node name="Lock_Barrier2" parent="LockBarriers" index="1" instance=ExtResource( 8 )]
position = Vector2( 635, 189 )

[node name="Lock_Barrier3" parent="LockBarriers" index="2" instance=ExtResource( 8 )]
position = Vector2( 411, 400 )

[node name="Lock_Barrier4" parent="LockBarriers" index="3" instance=ExtResource( 8 )]
position = Vector2( 635, 400 )

[node name="Keys" type="Node" parent="." index="4"]

[node name="Key1" parent="Keys" index="0" instance=ExtResource( 3 )]
position = Vector2( 466.107, 245.971 )
item_name = "Key"
item_manager_path = NodePath("../../ItemManager")

[node name="Key2" parent="Keys" index="1" instance=ExtResource( 3 )]
position = Vector2( 581.589, 358.274 )
item_name = "Key"
item_manager_path = NodePath("../../ItemManager")

[node name="Key3" parent="Keys" index="2" instance=ExtResource( 3 )]
position = Vector2( 75, 543 )
item_name = "Key"
item_manager_path = NodePath("../../ItemManager")

[node name="Key4" parent="Keys" index="3" instance=ExtResource( 3 )]
position = Vector2( 956.639, 66 )
item_name = "Key"
item_manager_path = NodePath("../../ItemManager")

[node name="ItemManager" parent="." index="5" instance=ExtResource( 6 )]

[node name="WorldComplete" parent="." index="6"]
position = Vector2( 493.7, -43.5332 )
script = SubResource( 1 )
next_world = "res://Levels/Level_10.tscn"

[node name="CollisionShape2D" parent="WorldComplete" index="0"]
position = Vector2( 3, 10 )
shape = SubResource( 2 )

[node name="TileMap" parent="." index="7"]
modulate = Color( 1, 1, 1, 1 )
tile_data = PoolIntArray( -196596, 1, 0, -196595, 1, 0, -196594, 1, 0, -196593, 1, 0, -196592, 1, 0, -196591, 1, 0, -196590, 1, 0, -131060, 1, 0, -131054, 1, 0, -1, 1, 0, -65536, 1, 0, -65535, 1, 0, -65534, 1, 0, -65533, 1, 0, -65532, 1, 0, -65531, 1, 0, -65530, 1, 0, -65529, 1, 0, -65528, 1, 0, -65527, 1, 0, -65526, 1, 0, -65525, 1, 0, -65524, 1, 0, -65518, 1, 0, -65517, 1, 0, -65516, 1, 0, -65515, 1, 0, -65514, 1, 0, -65513, 1, 0, -65512, 1, 0, -65511, 1, 0, -65510, 1, 0, -65509, 1, 0, -65508, 1, 0, -65507, 1, 0, -65506, 1, 0, -65505, 1, 0, -65504, 1, 0, 65535, 1, 0, 5, 1, 0, 6, 1, 0, 25, 1, 0, 26, 1, 0, 32, 1, 0, 131071, 1, 0, 65541, 0, 0, 65562, 0, 0, 65568, 1, 0, 196607, 1, 0, 131077, 0, 0, 131098, 0, 0, 131104, 1, 0, 262143, 1, 0, 196613, 0, 0, 196634, 0, 0, 196640, 1, 0, 327679, 1, 0, 262149, 0, 0, 262170, 0, 0, 262176, 1, 0, 393215, 1, 0, 327694, 1, 0, 327695, 1, 0, 327697, 1, 0, 327698, 1, 0, 327712, 1, 0, 458751, 1, 0, 393232, 1, 0, 393248, 1, 0, 524287, 1, 0, 458764, 1, 0, 458768, 1, 0, 458772, 1, 0, 458784, 1, 0, 589823, 1, 0, 524300, 1, 0, 524304, 1, 0, 524308, 1, 0, 524320, 1, 0, 655359, 1, 0, 589837, 1, 0, 589838, 1, 0, 589839, 1, 0, 589840, 1, 0, 589841, 1, 0, 589842, 1, 0, 589843, 1, 0, 589856, 1, 0, 720895, 1, 0, 655372, 1, 0, 655376, 1, 0, 655380, 1, 0, 655392, 1, 0, 786431, 1, 0, 720908, 1, 0, 720912, 1, 0, 720916, 1, 0, 720928, 1, 0, 851967, 1, 0, 786448, 1, 0, 786464, 1, 0, 917503, 1, 0, 851982, 1, 0, 851983, 1, 0, 851985, 1, 0, 851986, 1, 0, 852000, 1, 0, 983039, 1, 0, 917509, 0, 0, 917530, 0, 0, 917536, 1, 0, 1048575, 1, 0, 983045, 0, 0, 983066, 0, 0, 983072, 1, 0, 1114111, 1, 0, 1048581, 0, 0, 1048602, 0, 0, 1048608, 1, 0, 1179647, 1, 0, 1114117, 0, 0, 1114138, 0, 0, 1114144, 1, 0, 1245183, 1, 0, 1179653, 1, 0, 1179654, 1, 0, 1179673, 1, 0, 1179674, 1, 0, 1179680, 1, 0, 1310719, 1, 0, 1245184, 1, 0, 1245185, 1, 0, 1245186, 1, 0, 1245187, 1, 0, 1245188, 1, 0, 1245189, 1, 0, 1245190, 1, 0, 1245191, 1, 0, 1245192, 1, 0, 1245193, 1, 0, 1245194, 1, 0, 1245195, 1, 0, 1245196, 1, 0, 1245197, 1, 0, 1245198, 1, 0, 1245199, 1, 0, 1245200, 1, 0, 1245201, 1, 0, 1245202, 1, 0, 1245203, 1, 0, 1245204, 1, 0, 1245205, 1, 0, 1245206, 1, 0, 1245207, 1, 0, 1245208, 1, 0, 1245209, 1, 0, 1245210, 1, 0, 1245211, 1, 0, 1245212, 1, 0, 1245213, 1, 0, 1245214, 1, 0, 1245215, 1, 0, 1245216, 1, 0 )
[connection signal="change_item_entity" from="DuckandChicks/PlayerController" to="ItemManager" method="_on_PlayerController_change_item_entity"]
[connection signal="update_position_entity" from="DuckandChicks/Duck" to="ItemManager" method="_on_Duck_update_position_entity"]
[connection signal="update_entity_position" from="DuckandChicks/FlockManager" to="ItemManager" method="_on_FlockManager_update_entity_position"]
[connection signal="notify_entity_is_near" from="LockBarriers/Lock_Barrier1" to="ItemManager" method="_on_Lock_notify_entity_is_near"]
[connection signal="notify_entity_left" from="LockBarriers/Lock_Barrier1" to="ItemManager" method="_on_Lock_notify_entity_is_near"]
[connection signal="notify_entity_is_near" from="LockBarriers/Lock_Barrier2" to="ItemManager" method="_on_Lock_notify_entity_is_near"]
[connection signal="notify_entity_left" from="LockBarriers/Lock_Barrier2" to="ItemManager" method="_on_Lock_notify_entity_is_near"]
[connection signal="notify_entity_is_near" from="LockBarriers/Lock_Barrier3" to="ItemManager" method="_on_Lock_notify_entity_is_near"]
[connection signal="notify_entity_left" from="LockBarriers/Lock_Barrier3" to="ItemManager" method="_on_Lock_notify_entity_is_near"]
[connection signal="notify_entity_is_near" from="LockBarriers/Lock_Barrier4" to="ItemManager" method="_on_Lock_notify_entity_is_near"]
[connection signal="notify_entity_left" from="LockBarriers/Lock_Barrier4" to="ItemManager" method="_on_Lock_notify_entity_is_near"]
[connection signal="notify_item_manager" from="Keys/Key1" to="ItemManager" method="_on_Key_notify_item_manager"]
[connection signal="notify_item_manager" from="Keys/Key2" to="ItemManager" method="_on_Key_notify_item_manager"]
[connection signal="notify_item_manager" from="Keys/Key3" to="ItemManager" method="_on_Key_notify_item_manager"]
[connection signal="notify_item_manager" from="Keys/Key4" to="ItemManager" method="_on_Key_notify_item_manager"]

[editable path="DuckandChicks"]

[editable path="DuckandChicks/PlayerController"]

[editable path="LockBarriers/Lock_Barrier1"]

[editable path="LockBarriers/Lock_Barrier2"]

[editable path="LockBarriers/Lock_Barrier3"]

[editable path="LockBarriers/Lock_Barrier4"]

[editable path="Keys/Key1"]

[editable path="Keys/Key2"]

[editable path="Keys/Key3"]

[editable path="Keys/Key4"]
