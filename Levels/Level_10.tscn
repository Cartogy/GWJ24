[gd_scene load_steps=9 format=2]

[ext_resource path="res://Scenes/Effects/LockEffects/Lock_Barrier.tscn" type="PackedScene" id=1]
[ext_resource path="res://Scenes/Items/Item.tscn" type="PackedScene" id=2]
[ext_resource path="res://Scenes/Switch/Switch.tscn" type="PackedScene" id=3]
[ext_resource path="res://Scenes/Effects/Door/DoorEffect.tscn" type="PackedScene" id=4]
[ext_resource path="res://Scenes/ItemManager/ItemManager.tscn" type="PackedScene" id=5]
[ext_resource path="res://Levels/Parent_level.tscn" type="PackedScene" id=6]

[sub_resource type="GDScript" id=1]
script/source = "extends Area2D

export (String, FILE, \"*.tscn\") var next_world

func _physics_process(delta):
	var bodies = get_overlapping_bodies()
	for body in bodies:
		if body.name == \"Duck\":
			if next_world:
				get_tree().change_scene(next_world)
#			else: #Go back to menu?
#				pass
"

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 85.1083, 21.5379 )

[node name="Level_8" instance=ExtResource( 6 )]

[node name="DuckandChicks" parent="." index="0"]
position = Vector2( 490.517, 231.338 )

[node name="PlayerController" parent="DuckandChicks" index="0"]
position = Vector2( 0.867249, 8.46161 )

[node name="Data" parent="DuckandChicks/PlayerController" index="0"]
duck_attached_speed = 95.0
duck_dettached_speed = 125.0
chick_horde_speed = 155.0

[node name="StateMachine" parent="DuckandChicks/PlayerController" index="1"]
START_STATE = NodePath("../../../../Level_8/DuckandChicks/PlayerController/StateMachine/DuckMovement")

[node name="Duck" parent="DuckandChicks" index="1"]
position = Vector2( -3.54199, 1.51697 )

[node name="FlockManager" parent="DuckandChicks" index="2"]
main_duck_path = NodePath("../../../Level_8/DuckandChicks/Duck")

[node name="Chick" parent="DuckandChicks/FlockManager" index="0"]
position = Vector2( 478.479, 503.668 )

[node name="Chick2" parent="DuckandChicks/FlockManager" index="1"]
position = Vector2( 532.397, 516.952 )

[node name="Chick3" parent="DuckandChicks/FlockManager" index="2"]
position = Vector2( 534.179, 491.115 )

[node name="Switches" type="Node" parent="." index="1"]

[node name="Switch1" parent="Switches" index="0" instance=ExtResource( 3 )]
position = Vector2( 445, 472 )
scale = Vector2( 4, 4 )

[node name="Switch2" parent="Switches" index="1" instance=ExtResource( 3 )]
position = Vector2( 575, 472 )
scale = Vector2( 4, 4 )

[node name="Switch3" parent="Switches" index="2" instance=ExtResource( 3 )]
position = Vector2( 445, 563 )
scale = Vector2( 4, 4 )

[node name="Switch4" parent="Switches" index="3" instance=ExtResource( 3 )]
position = Vector2( 575, 563 )
scale = Vector2( 4, 4 )

[node name="Doors" type="Node" parent="." index="2"]

[node name="DoorEffect1" parent="Doors" index="0" instance=ExtResource( 4 )]
position = Vector2( 144, 41 )
scale = Vector2( 10, 11 )
effect_type = 1
switch_path = NodePath("../../../Level_8/Switches/Switch1")

[node name="DoorEffect2" parent="Doors" index="1" instance=ExtResource( 4 )]
position = Vector2( 866, 41 )
scale = Vector2( 10, 11 )
effect_type = 1
switch_path = NodePath("../../Switches/Switch2")

[node name="DoorEffect3" parent="Doors" index="2" instance=ExtResource( 4 )]
position = Vector2( 144, 520 )
scale = Vector2( 10, 11 )
effect_type = 1
switch_path = NodePath("../../Switches/Switch3")

[node name="DoorEffect4" parent="Doors" index="3" instance=ExtResource( 4 )]
position = Vector2( 866, 520 )
scale = Vector2( 10, 11 )
effect_type = 1
switch_path = NodePath("../../Switches/Switch4")

[node name="Lock_Barriers" type="Node" parent="." index="3"]

[node name="Lock_Barrier1" parent="Lock_Barriers" index="0" instance=ExtResource( 1 )]
position = Vector2( 345, 510 )
scale = Vector2( 2, 2 )
key_path = NodePath("../../Keys/Key2")

[node name="Lock_Barrier2" parent="Lock_Barriers" index="1" instance=ExtResource( 1 )]
position = Vector2( 500, 140 )
scale = Vector2( 1.5, 1.5 )
key_path = NodePath("../../Keys/Key4")

[node name="Lock_Barrier3" parent="Lock_Barriers" index="2" instance=ExtResource( 1 )]
position = Vector2( 500, 37 )
scale = Vector2( 1.5, 1.5 )
key_path = NodePath("../../Keys/Key1")

[node name="Lock_Barrier4" parent="Lock_Barriers" index="3" instance=ExtResource( 1 )]
position = Vector2( 690, 510 )
scale = Vector2( 2, 2 )
key_path = NodePath("../../Keys/Key3")

[node name="Keys" type="Node" parent="." index="4"]

[node name="Key1" parent="Keys" index="0" instance=ExtResource( 2 )]
position = Vector2( 60.333, 46.7919 )
item_name = "Key"
item_manager_path = NodePath("../../ItemManager")

[node name="Key2" parent="Keys" index="1" instance=ExtResource( 2 )]
position = Vector2( 962.995, 48.9109 )
item_name = "Key"
item_manager_path = NodePath("../../ItemManager")

[node name="Key3" parent="Keys" index="2" instance=ExtResource( 2 )]
position = Vector2( 69.8681, 554.275 )
item_name = "Key"
item_manager_path = NodePath("../../ItemManager")

[node name="Key4" parent="Keys" index="3" instance=ExtResource( 2 )]
position = Vector2( 965.114, 557.453 )
item_name = "Key"
item_manager_path = NodePath("../../ItemManager")

[node name="ItemManager" parent="." index="5" instance=ExtResource( 5 )]

[node name="WorldComplete" parent="." index="6"]
position = Vector2( 493.7, -42.1984 )
script = SubResource( 1 )
next_world = "res://Levels/Level_1.tscn"

[node name="CollisionShape2D" parent="WorldComplete" index="0"]
position = Vector2( 3, 10 )
shape = SubResource( 2 )

[node name="TileMap" parent="." index="7"]
tile_data = PoolIntArray( -131059, 1, 0, -131058, 1, 0, -131057, 1, 0, -131056, 1, 0, -131055, 1, 0, -1, 1, 0, -65536, 1, 0, -65535, 1, 0, -65534, 1, 0, -65533, 1, 0, -65532, 1, 0, -65531, 1, 0, -65530, 1, 0, -65529, 1, 0, -65528, 1, 0, -65527, 1, 0, -65526, 1, 0, -65525, 1, 0, -65524, 1, 0, -65523, 1, 0, -65519, 1, 0, -65518, 1, 0, -65517, 1, 0, -65516, 1, 0, -65515, 1, 0, -65514, 1, 0, -65513, 1, 0, -65512, 1, 0, -65511, 1, 0, -65510, 1, 0, -65509, 1, 0, -65508, 1, 0, -65507, 1, 0, -65506, 1, 0, -65505, 1, 0, -65504, 1, 0, 65535, 1, 0, 11, 0, 0, 12, 1, 0, 13, 1, 0, 17, 1, 0, 18, 1, 0, 19, 0, 0, 32, 1, 0, 131071, 1, 0, 65548, 0, 0, 65549, 0, 0, 65553, 0, 0, 65554, 0, 0, 65568, 1, 0, 196607, 1, 0, 131085, 0, 0, 131089, 0, 0, 131104, 1, 0, 262143, 1, 0, 196608, 0, 0, 196609, 0, 0, 196610, 0, 0, 196611, 0, 0, 196621, 0, 0, 196625, 0, 0, 196636, 0, 0, 196637, 0, 0, 196638, 0, 0, 196639, 0, 0, 196640, 1, 0, 327679, 1, 0, 262157, 0, 0, 262161, 0, 0, 262176, 1, 0, 393215, 1, 0, 327693, 0, 0, 327697, 0, 0, 327712, 1, 0, 458751, 1, 0, 393248, 1, 0, 524287, 1, 0, 458784, 1, 0, 589823, 1, 0, 524320, 1, 0, 655359, 1, 0, 589856, 1, 0, 720895, 1, 0, 655392, 1, 0, 786431, 1, 0, 720928, 1, 0, 851967, 1, 0, 786464, 1, 0, 917503, 1, 0, 851977, 0, 0, 851978, 0, 0, 851979, 0, 0, 851980, 0, 0, 851981, 0, 0, 851982, 0, 0, 851983, 0, 0, 851984, 0, 0, 851985, 0, 0, 851986, 0, 0, 851987, 0, 0, 851988, 0, 0, 851989, 0, 0, 851990, 0, 0, 851991, 0, 0, 852000, 1, 0, 983039, 1, 0, 917536, 1, 0, 1048575, 1, 0, 983040, 0, 0, 983041, 0, 0, 983042, 0, 0, 983043, 0, 0, 983068, 0, 0, 983069, 0, 0, 983070, 0, 0, 983071, 0, 0, 983072, 1, 0, 1114111, 1, 0, 1048608, 1, 0, 1179647, 1, 0, 1114144, 1, 0, 1245183, 1, 0, 1179657, 0, 0, 1179658, 0, 0, 1179659, 0, 0, 1179660, 0, 0, 1179667, 0, 0, 1179668, 0, 0, 1179669, 0, 0, 1179670, 0, 0, 1179671, 0, 0, 1179680, 1, 0, 1310719, 1, 0, 1245184, 1, 0, 1245185, 1, 0, 1245186, 1, 0, 1245187, 1, 0, 1245188, 1, 0, 1245189, 1, 0, 1245190, 1, 0, 1245191, 1, 0, 1245192, 1, 0, 1245193, 1, 0, 1245194, 1, 0, 1245195, 1, 0, 1245196, 1, 0, 1245197, 1, 0, 1245198, 1, 0, 1245199, 1, 0, 1245200, 1, 0, 1245201, 1, 0, 1245202, 1, 0, 1245203, 1, 0, 1245204, 1, 0, 1245205, 1, 0, 1245206, 1, 0, 1245207, 1, 0, 1245208, 1, 0, 1245209, 1, 0, 1245210, 1, 0, 1245211, 1, 0, 1245212, 1, 0, 1245213, 1, 0, 1245214, 1, 0, 1245215, 1, 0, 1245216, 1, 0 )
[connection signal="change_item_entity" from="DuckandChicks/PlayerController" to="ItemManager" method="_on_PlayerController_change_item_entity"]
[connection signal="update_position_entity" from="DuckandChicks/Duck" to="ItemManager" method="_on_Duck_update_position_entity"]
[connection signal="update_entity_position" from="DuckandChicks/FlockManager" to="ItemManager" method="_on_FlockManager_update_entity_position"]
[connection signal="notify_entity_is_near" from="Lock_Barriers/Lock_Barrier1" to="ItemManager" method="_on_Lock_notify_entity_is_near"]
[connection signal="notify_entity_left" from="Lock_Barriers/Lock_Barrier1" to="ItemManager" method="_on_Lock_notify_entity_is_near"]
[connection signal="notify_entity_is_near" from="Lock_Barriers/Lock_Barrier2" to="ItemManager" method="_on_Lock_notify_entity_is_near"]
[connection signal="notify_entity_left" from="Lock_Barriers/Lock_Barrier2" to="ItemManager" method="_on_Lock_notify_entity_is_near"]
[connection signal="notify_entity_is_near" from="Lock_Barriers/Lock_Barrier3" to="ItemManager" method="_on_Lock_notify_entity_is_near"]
[connection signal="notify_entity_left" from="Lock_Barriers/Lock_Barrier3" to="ItemManager" method="_on_Lock_notify_entity_is_near"]
[connection signal="notify_entity_is_near" from="Lock_Barriers/Lock_Barrier4" to="ItemManager" method="_on_Lock_notify_entity_is_near"]
[connection signal="notify_entity_left" from="Lock_Barriers/Lock_Barrier4" to="ItemManager" method="_on_Lock_notify_entity_is_near"]
[connection signal="notify_item_manager" from="Keys/Key1" to="ItemManager" method="_on_Item_notify_item_manager"]
[connection signal="notify_item_manager" from="Keys/Key2" to="ItemManager" method="_on_Item_notify_item_manager"]
[connection signal="notify_item_manager" from="Keys/Key3" to="ItemManager" method="_on_Item_notify_item_manager"]
[connection signal="notify_item_manager" from="Keys/Key4" to="ItemManager" method="_on_Item_notify_item_manager"]

[editable path="DuckandChicks"]

[editable path="DuckandChicks/PlayerController"]
